% -*- root: main.tex -*-
\documentclass[11pt]{article}

\usepackage[a4paper]{geometry}
\usepackage{fancyhdr} % Customise style
% ERROR MEANS WE NEED TO GET RID OF EMPTY LINE \\'s
\usepackage{hyperref}
\usepackage{url} % References
\usepackage{graphicx} % Show images
\usepackage[font=footnotesize,labelfont={footnotesize,footnotesize}, margin=0cm]{caption}
\usepackage{titlesec}
\usepackage{import} % Better version of include/input
\usepackage{listings} % Program code
\usepackage{float} % For better photo management
\usepackage{parskip} % Don't indent paragraphs
\usepackage{afterpage} % Blank pages
\usepackage{pgfgantt} % Gannt Charts
\usepackage{multirow} % Tables
\usepackage{tikz} % For diagrams
\usepackage{lscape} % For landscape
\usepackage{pifont} % Check marks

\newcommand{\cmark}{\ding{51}} % So we can use \cmark instead of \ding{51}
\newcommand{\xmark}{\ding{55}}

\usetikzlibrary{shapes.geometric, arrows} % For diagrams

\newcommand\blankpage{% Code for the blank page
    \null
    \thispagestyle{empty}
    \addtocounter{page}{-1}
    \newpage}

% Appendix items
\usepackage[toc,page]{appendix}

% Add title setup/style.
\include{chapters/_title}

\begin{document}

    % Stop page numbering until we say again
    \pagenumbering{gobble}
    \newgeometry{top=4cm, bottom=2.5cm, left=2cm, right=2cm} % Title geometry
    \maketitle
    \newgeometry{top=2.4cm, bottom=2.5cm, left=2cm, right=2cm}

    \newpage

    \import{./chapters/}{acknowledgements}
    \newpage

\newgeometry{top=2.3cm, bottom=2.4cm, left=1.9cm, right=2cm} % abstract margins
    \import{./chapters/}{0_abstract}

\newgeometry{top=2.4cm, bottom=2.5cm, left=2cm, right=2cm}
    \tableofcontents
    \newpage

    % Set styles after the title, abstract and toc
    \fancypagestyle{plain} {
      \fancyhf{}
      \lhead[\rightmark]{\thepage}
      \rhead[\thepage]{\leftmark}
      \setlength{\parindent}{0pt}
      \setlength{\parskip}{2ex}
    }

    % Start page numbers
    \pagenumbering{arabic}

    % https://www.cs.bris.ac.uk/Teaching/Resources/COMSM2202/review.html
    % https://www.cs.bris.ac.uk/project/MSc/
    \import{./chapters/}{1_introduction.tex}

    \import{./chapters/}{2_habit.tex}
    \import{./chapters/}{3_multimodal.tex}
    \import{./chapters/}{4_design.tex}
    \import{./chapters/}{5_implementation.tex}
    \import{./chapters/}{6_evaluation.tex}
    \import{./chapters/}{7_conclusion.tex}

    \cleardoublepage
    \bibliographystyle{ieeetr}
    \renewcommand*{\refname}{}

    \section{References}
    \bibliography{chapters/bibliography}

    \newgeometry{top=2.5cm,bottom=2.5cm} % set margins to be smaller so we can fit appendix items onto a single page

    % \include{appendix}

\end{document}