
\newpage
\section{Prototype Design}

To verify the effectiveness of each modality, a experiment was needed to test a reward on a large sample.
To accompany the experiment a tool was constructed to send users rewards from different modalities and help users track habits. The platform for the tool needed to be highly available for participants, interactive and time effective to build.
A system on a mobile device grants us access to a `highly available, contextually aware and interactive platform'~\cite{article_mhealth} and will be based on previous design recommendations for behaviour change mobile systems.

\subsection{Design Considerations}

Current mobile systems use apps to interact with users, but a recent study showed apps fall into a low behavioural theory adherence scale~\cite{article_mhealth}.
Research into how to build systems that are theory-based, suggest four main stages for designing mobile health solutions. Conceptualisation, Formative Research and Pretesting,
Pilot trials and Evaluation trials~\cite{article_mhealth}. The first two stages use the Behaviour Change Wheel~\cite{article_behaviour_change_wheel}
(a framework for planning health behaviour interventions), to understand the behaviour, better define the characteristics and form the mobile concept into a prototype.
The pilot trials tests the prototype before it moves to a finalised app with the commitment of a full trial. The final stage tests the finalised app with a wider range of participants.
This project will use these four stages as design steps to build the prototype.

\subsection{Mobile Concept to Prototype}

This first stage explores different mediums to develop a prototype upon and to decide if there is a better method to interact with users than a mobile app. We conclude with a series of implementation options and choosing the path of a Chatbot.\newline
\newline
When it comes to mobile phones, users have plenty of options for interaction. A popular choice that has revisited the market are Chatbots---applications that parse questions using Natural Language Processing (NLP) to provide a response. Bots act as a user interface to expose data and would use online services to parse the response, such as Amazon lex \url{https://aws.amazon.com/lex/}. These programs have conversations with users to achieve a goal and are not new inventions. Since 1966~\cite{article_eliza}, Eliza by Joesphs Weizenbaum, used simple expression matching to return a certain response for user trials. In the present day, these applications (commonly referred to as bots, sometimes chatbots), are found integrated into many different apps on the majority of users mobile phones. For example, Facebook Messenger (a popular messaging application) encourages developers to create bots to interact with their users. These bots act as a real person with similar interaction flow, plus a few additional features, such as \textit{Quick Replies} for revealing a list of options to a user. `Quick Replies provide a way to present buttons to the user in response to a message.'~\cite{doc_fb_quick_replies}. However, these bots would not reply like a real person, but rather would only reply if that question was pre-trained using machine learning algorithms. This technology requires the bot to be trained on a large set of data and the majority of use cases would have to be accounted for.\newline
\newline
NLP would enable users to chat to the bot and get a friendly understandable reply. But, would this interaction develop a dependence on the user-chatbot interaction? Would it lead to losing automaticity if the chatbot supported habit formation? NLP will not be used to avoid these potential problems, and instead of natural language processing, the location of the bot (i.e. inside of an existing messaging app), ease of interaction and the additional features (quick replies) will help us easily communicate with a user.\newline
\newline
Another option is a Web App. But a Web App cannot send users reminders, unless it is paired with an app or SMS platform, but this is hard to get a response from a user.\newline
\newline
The below table summarises the available choices for developing a system for our requirements (TODO cite chapter). A mobile app can supply notifications, but for each platform a completely separate app would need to be built and users would need to download the app before it would be available to them.\newline
A single cross-platform app could be constructed to reduce development time and complexity, but still users would need to download the app to start using it.\newline
A web app has the advantage of being available to all users with a web browser (with users being able to save the site to home screen), but without notifications on all platforms (iOS), it won't meet our requirements.\newline
Finally, a chatbot integrated into a popular messaging platform is easily available (if you have the messaging app already installed), simple (the user interface is already supplied), works on any platform the messaging app is available on and has notifications built in.
\renewcommand{\arraystretch}{1.5} % Increase line height of the following tables
\begin{figure}[H] % ht
\begin{center}
\begin{tabular}{ |p{3.8cm}|p{2.5cm}|p{4cm}|p{2.5cm}|p{2cm}| }
 \hline
 \textbf{} & \textbf{Mobile App} & \textbf{Cross-Platform App} & \textbf{Web App} & \textbf{Chatbot} \\ \hline
 Notifications & \cmark & \cmark & \xmark & \cmark \\ \hline
 Development Time & Long & Medium & Short & Short \\ \hline
 High Availability & \xmark & \xmark & \cmark & \cmark \\ \hline
 Simplicity & \xmark & \xmark & \cmark & \cmark \\
 \hline
\end{tabular}
\end{center}
    \caption{Comparing different prototype mediums.}
    \label{fig:prototype_table}

\end{figure}

From the table above the best method forward is a chatbot. It is already integrated into an existing app users are familiar with and (as long as the messaging app is available) works on all platforms.

\subsection{Chatbot Platform}

Again, similarly there are lots of options about what platform to build the chatbot into. For example, Slack bots provide additional functionality, such as habit track, into the popular workplace communication service.

\begin{figure}[H] % ht
    \centering
    \includegraphics[width=3.5in]{../resources/existing-bots/healthy-bot.png}
    \caption{Healthy Bot: A Slack bot for forming new positive habits.}
    \label{fig:healthy_bot}
\end{figure}

However, if our main aim is to interact with lots of people easily, we need to target existing platforms that a lot of people are using.

\begin{figure}[H] % ht
\begin{center}
\begin{tabular}{ |p{3.8cm}|p{2.5cm}|p{4cm}|p{2.5cm}|p{2cm}| }
 \hline
 \textbf{} & \textbf{Facebook Messenger} & \textbf{WhatsApp} & \textbf{SMS} & \textbf{Telegram} & \textbf{Slack} \\ \hline
 High Availability & \cmark & \cmark & \cmark & \xmark & \xmark \\ \hline
 Interactive & \cmark & \cmark & \xmark & \cmark & \cmark \\
 Additional Features & \cmark & \xmark & \xmark & \cmark & \cmark \\
 \hline
\end{tabular}
\end{center}
    \caption{Comparing different chatbot platforms.}
    \label{fig:chatbot_platform_table}

\end{figure}

Facebook Messenger looks like the attractive option for user interaction with the ease of additional features, such as Quick Replies and with the benefit of:

\begin{itemize}
  \item 1,200 Million active users per month (as of April 2017)~\cite{fb_messenger_stats}
  \item Embedded into a service users already use
  \item Quick replies allows for easy interaction
\end{itemize}

But, will users differentiate between a bot and a person? Will the text interaction put people off? This thesis aims to answer those questions.

\subsection{Facebook Messenger}

\begin{figure}[H] % ht
    \centering
    \includegraphics[width=2.5in]{../resources/existing-bots/poncho.jpg}
    \caption{Poncho: An example of Facebook Messenger Weather Chatbot}
    \label{fig:poncho}
\end{figure}

Discussion about the additional features fb messenger has with discussion about previous chatbots.

<photo of UI flow>

<photo of quick replies>

\begin{figure}[H]
  \centering
  \includegraphics[width=1.9in]{../resources/existing-bots/everist.png}
  \hspace{10px}
  \includegraphics[width=1.9in]{../resources/existing-bots/cleo.png}
  \hspace{10px}
  \includegraphics[width=1.9in]{../resources/existing-bots/joy-ai.png}
  \caption{Examples of chatbots performing different actions}
  \label{fig:chatbots_examples}
\end{figure}


\subsection{Supporting Habit Formation}

Discussion about how we can support habit formation using a chatbot in reality.

Paragraph about Gamification elements:
- Gamification elements~\cite{article_free_to_play_making_money_from_games_you_give_away}
- Designing outstanding feedback loops~\cite{website_how_to_design_feedback_loops}

Justify the type of habits chosen: Because the evaluation trial is shorter, the habits must be easier - as the easier it is, the quicker it will form, if you can easily do it, you are more likely to do it



\subsection{Delivering Rewards}

\begin{figure}[H]
  \centering
  \includegraphics[width=2.1in]{../resources/design/reward-audio-inline.png}
  \hspace{10px}
  \includegraphics[width=2.1in]{../resources/design/reward-visual-inline.png}
  \caption{In-line rewards.}
  \label{fig:rewards_inline}
\end{figure}

Discussion about how the rewards will be delivered to the users. In-line verses same screen. How interaction is handled. Concludes with exactly how rewards will be handled in design way, brief discussion about vibration and how it would not work.

\begin{figure}[H]
  \centering
  \includegraphics[width=2.1in]{../resources/design/reward-visual-inline.png}
  \hspace{10px}
  \includegraphics[width=2.1in]{../resources/design/reward-visual-2.png}
  \caption{In-line visual rewards verses separate.}
  \label{fig:rewards_inline_v_website}
\end{figure}

The types of rewards are separated into three categories, visual, auditory and combined visual-auditory. Different types of these rewards will be experimented with,
and test if they provide user satisfaction. These rewards will be displayed to the user within the chatbot after they complete their habit.
For a playful prototype, visual rewards will be light-hearted gifs and auditory rewards will be selected to match the gifs.

\begin{figure}[H]
  \centering
  \includegraphics[width=2.1in]{../resources/design/reward-visual-2.png}
  \hspace{10px}
  \includegraphics[width=2.1in]{../resources/design/reward-audio.png}
  \caption{Consistency between every reward, even across devices.}
  \label{fig:rewards_consistency}
\end{figure}

\subsection{Technical Limitations}
Vibration discussion: - A.P.I. sets wearable alarm - Wearable (fitbit) issues and tracks alarm times
Audio autoplay limitations:
Talk about issues with looping sounds\newline
 Talk about Fitbit issues with alarm integration

\subsection{User Flow}

Full user interaction from setup to completing a reward.

\begin{figure}[H]
  \centering
  \includegraphics[width=2.1in]{../resources/design/media/1.png}
  \hspace{10px}
  \includegraphics[width=2.1in]{../resources/design/media/2.png}
  \caption{The screens initial users will see.}
  \label{fig:setup_media_1}
\end{figure}

\begin{itemize}
  \item \textbf{Setup}
  \begin{itemize}
    \item Setup the bot via the Facebook Messenger platform.
    \item User chooses an existing habit they would like to develop.
    \item User supplies an existing context to integrate their new habit into.
    \item User supplies a time the existing context occurs.
  \end{itemize}
  \item \textbf{Trigger}
  \begin{itemize}
    \item At the time of the existing context, the user should perform their chosen habit.
    \item The user receives a notification after the chosen time, that asks if they managed to complete their habit, or if they need more time.
    \item If they need more time, the notification will \textit{snooze} for about an hour and be sent again.
    \item If users regularly snooze they will be asked if their existing context time would like to change.
    \item If users say they have completed their habit, they will receive a reward.
  \end{itemize}
  \item \textbf{Reward}
  \begin{itemize}
    \item Users will press a button that will take them to a website so for each modality they can consistently experience their reward.
    \item User will receive a reward (which represents success) from one of the following modalities:
    \item Visual: A video with no sound
    \item Audio: A soundtrack
    \item Visual and Audio: A video with sound
  \end{itemize}
\end{itemize}


\begin{figure}[H]
  \centering
  \includegraphics[width=2.1in]{../resources/design/media/5.png}
  \hspace{10px}
  \includegraphics[width=2.1in]{../resources/design/media/3.png}
  \caption{The screens initial users will see.}
  \label{fig:setup_media_2}
\end{figure}


\newpage
